<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>LemonCase 2</title>
	<meta name="viewport" content="width=device-width,height=device-height,inital-scale=1.0,maximum-scale=1.0,user-scalable=no" />
	<link rel="stylesheet" href="bootstrap/css/bootstrap.min.css" />
	<link rel="stylesheet" href="css/style.css" />
</head>

<body>
	<nav class="navbar navbar-default">
		<div class="container">
			<div class="navbar-header">
				<a class="navbar-brand" href="#">
					LemonCase2
				</a>
			</div>
			<ul class="nav navbar-nav">
				<li role="presentation"><a href="index.html">欢迎</a>
				</li>
				<li role="presentation"><a href="doc.html">文档</a>
				<li role="presentation"><a href="#">贡献</a>
				</li>
			</ul>
		</div>
	</nav>
	<div id="top" class="container">
		<div class="row">
			<div class="col-sm-8">
				<div class="page-header">
					<h2 id="overview">概览</h2>
					<p>LemonCase2 是用于编写WEB工程前端测试用例的编程语言。
					</p>
					<p>
						github托管地址：<a target="_blank" href="https://github.com/or-change/lemoncase2">
						https://github.com/or-change/lemoncase2</a>
					</p>
					<p>
						开源中国托管地址：<a target="_blank" href="http://git.oschina.net/increase/lemoncase2">
						http://git.oschina.net/increase/lemoncase2</a>。
					</p>
				</div>
				<h3 id="table">关键字&特殊表达式&宏 - 速查表</h3>
				<div class="row">
				<div class="col-md-6">
						<table class="table table-bordered table-hover">
							<thead>
								<tr>
									<th width="160">指令关键字</th>
									<th>描述</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>process</td>
									<td>过程定义</td>
								</tr>
								<tr>
									<td>in</td>
									<td>时间条件定义</td>
								</tr>
								<tr>
									<td>by</td>
									<td>输入内容定义</td>
								</tr>
								<tr>
									<td>jumpto</td>
									<td>界面跳转</td>
								</tr>
								<tr>
									<td>log</td>
									<td>日志输出</td>
								</tr>
								<tr>
									<td>return</td>
									<td>返回</td>
								</tr>
								<tr>
									<td>console</td>
									<td>控制台输出</td>
								</tr>
								<tr>
									<td>wait</td>
									<td>延迟</td>
								</tr>
								<tr>
									<td>assert</td>
									<td>断言</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="col-md-6">
						<table class="table table-bordered table-hover">
							<thead>
								<tr>
									<th width="160">动作关键字</th>
									<th>描述</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>click</td>
									<td>单击</td>
								</tr>
								<tr>
									<td>input</td>
									<td>输入</td>
								</tr>
								<tr>
									<td>rclick</td>
									<td>右键单击</td>
								</tr>
								<tr>
									<td>dblclick</td>
									<td>双击</td>
								</tr>
								<tr>
									<td>movein</td>
									<td>鼠标移入</td>
								</tr>
								<tr>
									<td>moveout</td>
									<td>鼠标移出</td>
								</tr>
								<tr>
									<td>scroll</td>
									<td>滚动</td>
								</tr>
								<tr>
									<td>select</td>
									<td>下拉菜单</td>
								</tr>
								<tr>
									<td>refresh</td>
									<td>刷新</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="col-md-6">
						<table class="table table-bordered table-hover">
							<thead>
								<tr>
									<th width="160">表达式</th>
									<th>描述</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td><@ "cssPath"/></td>
									<td>获取元素内容</td>
								</tr>
								<tr>
									<td><# "cssPath"/></td>
									<td>获取元素个数</td>
								</tr>
								<tr>
									<td><&#33; "cssPath"/></td>
									<td>判断元素显隐性</td>
								</tr>
								<tr>
									<td>A~~B</td>
									<td>A表达式结果包含B表达式</td>
								</tr>
								<tr>
									<td>A==B</td>
									<td>A表达式结果等于B表达式</td>
								</tr>
								<tr>
									<td>A!=B</td>
									<td>A表达式结果不等于B表达式</td>
								</tr>
								<tr>
									<td>|正则表达式|</td>
									<td>正则表达式写法</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="col-md-6">
						<table class="table table-bordered table-hover">
							<thead>
								<tr>
									<th width="160">宏</th>
									<th>描述</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>#CLOCK</td>
									<td>频率</td>
								</tr>
								<tr>
									<td>#TIMES</td>
									<td>执行次数</td>
								</tr>
								<tr>
									<td>#INTERVAL</td>
									<td>时间间隔</td>
								</tr>
								<tr>
									<td>#SCREEN</td>
									<td>屏幕尺寸</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<div class="page-header">
					<h2>执行语句</h2>
					<p>动作语句、延迟语句、断言语句、记录日志语句、调用过程和     

返回过程</p>
				</div>
<!-------------------动作语句-------------------------->
				<h3 id="z1">动作语句</h3>
				<p><strong>写法：</strong>动作名&nbsp;&nbsp;"执行对象"&nbsp;&nbsp;by&nbsp;&nbsp;输入参数;<br/>
				<small>*注：执行对象是用css选择器表达的唯一结果。</small></p>
				<table class="table table-bordered table-striped table-hover">
					<thead>
						<tr>
							<th>动作名参数</th>
							<th>执行对象</th>
							<th>参数</th>
							<th>描述</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>click</td>
							<td>css选择器路径</td>
							<td>无</td>
							<td>模拟用户点击操作</td>
						</tr>
						<tr>
							<td>input</td>
							<td>css选择器路径</td>
							<td>直接量|正则表达式</td>
							<td>模拟用户表单输入</td>
						</tr>
						<tr>
							<td>dbclick</td>
							<td>css选择器路径</td>
							<td>无</td>
							<td>模拟用户双击操作</td>
						</tr>
						<tr>
							<td>rclick</td>
							<td>css选择器路径</td>
							<td>无</td>
							<td>模拟用户右键点击操作</td>
						</tr>
						<tr>
							<td>mousein</td>
							<td>css选择器路径</td>
							<td>无</td>
							<td>模拟用户鼠标移动到某个元素上</td>
						</tr>
						<tr>
							<td>select</td>
							<td>css选择器路径</td>
							<td>无</td>
							<td>。。。。。</td>
						</tr>
					</tbody>
				</table>
				<strong>示例代码：</strong>
				<pre>
click "input#test"; //单机输入框
input "input#test" by "abced"; //在输入框里输入 abced
input "input#test" by |[0-9]{4,8}|; //在输入框里输入 4~8位长的数字组成的字符串
dblclick "input#test"; //双击这个输入框
mousein "input#test"; //鼠标移入这个输入框
				</pre>
<!-------------------------延迟语句----------------------->

				<h3 id="z2">延迟语句</h3>
				<p><strong>写法：</strong>wait&nbsp;&nbsp;1000;</p>
				<strong>示例代码：</strong>
				<pre>
wait:3000; //等待3秒钟
				</pre>
<!-------------------------断言语句----------------------->

				<h3 id="z3">断言语句</h3>
				<p><strong>写法：</strong>assert&nbsp;&nbsp;断言条件表达式&nbsp;&nbsp;in&nbsp;&nbsp; 时间参数;</p>
				<strong>示例代码：</strong>
				<pre>
assert <#"textarea#test"/>; //断言存在一个id为test的输入框
assert <#"textarea#test"/> in 2000; //断言在2秒内会出现一个id为test的输入框
				</pre>
<!---------------------跳转语句--------------------->
				<h3 id="z4">跳转语句</h3>
				<p><strong>写法：</strong>jumpto&nbsp;&nbsp;'跳转地址'</p>
				<strong>示例代码：</strong>
				<pre>
jumpto '/#/login'; //跳转到某个项目的登录页
				</pre>
<!---------------------日志输出语句--------------------->
				<h3 id="z5">日志输出语句</h3>
				<p><strong>写法：</strong>log&nbsp;&nbsp;直接量|表达式;</p>
				<strong>示例代码：</strong>
				<pre>
log "Hello Word"; //手动记录一条日志
				</pre>
<!---------------------控制台输出语句--------------------->
				<h3 id="z6">控制台输出语句</h3>
				<p><strong>写法：</strong>log&nbsp;&nbsp;直接量|表达式;</p>
				<strong>示例代码：</strong>
				<pre>
log "Hello Word"; //手动输出一条语句
				</pre>
<!---------------------返回过程语句--------------------->
				<h3 id="z8">返回过程语句</h3>
				<p><strong>写法：</strong>return;</p>
				<strong>示例代码：</strong>
				<pre>
process main {
wait 3000;
return;
}
				</pre>
				
				<div class="page-header">
					<h2>结构语句</h2>
					<p>过程定义</p>
				</div>
<!---------------------过程定义语句--------------------->
				<h3 id="gc">过程定义语句</h3>
				<p><strong>写法：</strong>prosess&nbsp;&nbsp;过程名&nbsp;&nbsp;{代码段}</p>
				<strong>示例代码：</strong>
				<pre>
process sub { //定义一个名为sub的子过程
wait 3000;
return;
}
				</pre>
<!---------------------调用过程语句--------------------->
				<h3 id="z7">过程调用语句</h3>
				<p><strong>写法：</strong>过程名();</p>
				<strong>示例代码：</strong>
				<pre>
process main {
sub(); //调用sub过程
return;
}
process sub {
wait 3000;
return;
}
				</pre>
				<div class="page-header">
					<h2 id="bl">宏</h2>
					<p>环境变量设定语句</p>
				</div>
<!---------------------环境变量设定语句--------------------->
				<h3>环境变量设定语句</h3>
				<p><strong>写法：</strong>#set&nbsp;&nbsp;设置项&nbsp;&nbsp;值</p>
				<strong>示例代码：</strong>
				<pre>
#TIMES 10  //整个case的执行次数为10次
#INTERVAL 10  //case每次执行的时间间隔
				</pre>
				<div id="demo" class="page-header">
					<h2>样例及其说明</h2>
					<p>下面是一个具体的案例，您可以通过这个样例完整了解LemonCase的编写规则。</p>
				</div>
				<pre>
	#set TIME 1 //整个case的执行次数为1次
	#set INTERVAL 1000  //case每次执行的时间间隔
	//需要先登陆后
	//测试创建测试项目
	jumpto 'lemonser/project/add';
	wait 2000;
	//跳转到我的项目界面
	click "div.selfCard > div.card";
	wait 1000;
	//记录一下当前有几个项目
	projectNum=<#"div.card-container > div.card"/>;
	console projectNum;  //控制台输出一下项目个数，这里只是为了检查调试用
	click "span.ico-addRound";  //点击添加按钮去创建测试项目页面
	wait 1000; //加1000毫秒跳转时间
	input "div.grid > input.ng-pristine" by |[a-zA-Z]{8}|; //输入项目名称，by后面是根据正则表达式
	input "textarea.ng-pristine" by "项目描述"+ |\d{4}|;  //输入项目信息
	click "div.grid > button:nth-child(5)";  //点击创建按钮创建这个测试项目
	assert <#"div.card-container > div.card"/> == projectNum+1 ; //断言当前项目个数比上一次多1个
	console "创建项目成功";  //控制台输出创建成功的提示信息，检查用
				</pre>
				<p>实例说明：</p>
				<p>这是一个用于测试 创建测试用例功能的测试用例，首先用户的操作流程是：</pp>
				<ol>
					<li>创建测试项目的页面为测试页面，所以对应 case 写法是 jumpto 'lemonser/project/add'。</li>
					<li>页面跳转需要响应时间，所以这里添加了一个等待指令wait 2000，用于设定跳转等待时间。</li>
					<li>点击创建测试项目按钮，这个点击按钮的写法是 click "按钮cssPath";</li>
					<li>点击这个按钮会跳转到创建项目填写的页面，所以为了安全起见给一个跳转时间 wait 1000;</li>
					<li>接下来要填写一些项目基本信息，项目名字和描述什么的。接下来输入的指令写法为：input "输入表单组件cssPath" by 输入参数表达式；</li>
					<li>输入完毕以后点击确认创建按钮。写法是 click "按钮cssPath";</li>
					<li>最重要的这一步就是断言项目创建是否成功了，所以我们可以通过检查项目个数是否比上一次多了一个来确定之前的操作是否成功。所以在点击创建项目按钮之前
				要记录一下当前项目个数并存在一个变量中，以便后面用于比较实用，写法是： projectNum=<# "项目cssPath"/>;</li>
					<li>接下来就可以写断言创建成功的指令了，写法是：assert <#"项目cssPath"/> == projectNum+1;</li>
					<li>如果需要一些控制台提示，可以使用语句：console "提示信息"；</li>
				</ol>
			</div>
			<div class="col-sm-3 col-sm-offset-1" style="color:#666">
				<div style="position:fixed">
					<div class="page-header" style="border:none">
						<h3>目录</h3>
					</div>
					<p><a href="#overview">概览</a></p>
					<p><a href="#table">关键字&特殊表达式&宏 - 速查表</a></p>
					<p>执行语句</p>
					<ol>
						<li><a href="#z1">动作</a></li>
						<li><a href="#z2">延迟</a></li>
						<li><a href="#z3">断言</a></li>
						<li><a href="#z4">跳转</a></li>
						<li><a href="#z5">日志输出</a></li>
						<li><a href="#z6">控制台输出</a></li>
						<li><a href="#z8">返回过程</a></li>
					</ol>
					<p>结构语句</p>
						<ol>
							<li><a href="#gc">过程定义</a></li>
							<li><a href="#z7">过程调用</a></li>
						</ol>
					<p>宏</p>
						<ol>
							<li><a href="#bl">环境变量设定语句</a></li>
						</ol>
					<p><a href="#demo">样例及其说明</a></p>
					<div class="page-header">
						<h4>其他</h4>
					</div>
					<p>LemonCase团队的项目</p>
						<ul>
							<li><a target="_blank" href="http://www.lemonce.net">LemonceManager测试管理官网</a></li>
							<li><a target="_blank" href="http://www.lemonce.com">Lemonce测试服务官网</a></li>
						</ul>
					<p><a href="#top">回到顶部</a></p>
				</div>
			</div>
		</div>
	</div>
</body>

</html>